<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.54">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #a41919}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000; min-height: 14.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #000000}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 15.0px Monaco; color: #a41919}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #001ab2}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #a41919; min-height: 12.0px}
span.s1 {color: #000000}
span.s2 {color: #001ab2}
span.s3 {color: #a41919}
span.s4 {color: #606060}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1">/* iz Friday; January 8, 2010: 7:59 AM</p>
<p class="p1">A point in 2D space that can move in one direction, turn to change direction, and jump to an arbitrary position.</p>
<p class="p1">Used to implement tracing lines with Patterns.</p>
<p class="p1">*/</p>
<p class="p2"><br></p>
<p class="p3"><b>Inherits from: </b><a href="../../../../../../Resources+Dev/sound/SC/SuperCollider/Help/Core/Object.html"><b>Object</b></a></p>
<p class="p4"><br></p>
<p class="p3">A class which allows you to draw using arrays of points and commands or patterns which generate such arrays.<span class="Apple-converted-space"> </span></p>
<p class="p4"><br></p>
<p class="p5"><b>Drawing Methods</b></p>
<p class="p4"><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>*draw (patternFunc, window, x = 0, y = 0, orientation = 0, rate = 0.1)</b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Create a new drawing based on an array, a pattern or a function.<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>patternFunc: </b>An array of drawing command symbols and points, or a pattern that generates them,<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>or a function that generates the array or the pattern.<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The function is passed a new instance of Turtle as an argument. See examples below.<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>window: </b>(optional:) The window to draw in.<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>x, y, orientation</b>: The x, y and orientation of the initial point of the turtle.<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>rate:</b> The interval to wait before drawing each new vertex.<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If it is set to 0, then the whole drawing is created at once</p>
<p class="p2"><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>move (distance, draw = 1, point1, point2)</b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Move distance pixels in the <span class="s1">current </span>direction of the turtle.<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Value of draw sets the draw mode, selecting by index from the following array of<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Pen methods: [\moveTo, \lineTo, \curveTo, \quadCurveTo, \strokeOval]</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If point1 and point2 are given, then a cubic spline is drawn with point1 and point2 as reference.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p5"><b>Scaling and Redrawing</b></p>
<p class="p4"><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>*autoscale(argAutoscale)</b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Set the autoscale parameter that governs the scaling of the drawing to fit the bounds of the view.</p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>argAutoscale: </b>If set to true, the drawing is scaled to fit the bounds of the drawing view.<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If set to false no scaling takes place. The default value of autoscale is true.<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Note:<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This method also immediately redraws the current drawing.<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>You should set autoscale to false if you are drawing pictures with more than 2000 vertices,<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>because after that the delay for each new redraw becomes more than 0.1 second, which means<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>only 10 new vertices per second. See *rescale method below.<span class="Apple-converted-space"> </span></p>
<p class="p4"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span><b>*rescale</b></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Set the autoscale parameter to true and redraw the window. After redrawing, the original value</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>of autoscale is restored, so that the next drawing will use the previously set value of autoscale.<span class="Apple-converted-space"> </span></p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>*<b>redraw<span class="Apple-converted-space"> </span></b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Redraw the window with the current settings.</p>
<p class="p6"><br></p>
<p class="p7">// Examples:<span class="Apple-converted-space"> </span></p>
<p class="p6"><br></p>
<p class="p1">// 1. Various doodles using a single function<span class="Apple-converted-space"> </span></p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi * (~count / 4)); t.move(70) }, 50)<span class="Apple-tab-span">	</span>}, x: 200, y: 200);</p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi * (~count / 20)); t.move(70) }, 500) }, x: 400, y: 400);</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi * (~count / 20.01)); t.move(30) }, 2001) }, x: 400, y: 400, rate: 0);</p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi * (~count / 4.1)); t.move(20) }, 200) }, x: 700, y: 600, rate: 0.01);</p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi * (~count / 4.1) + (((~count % 10) &gt; 1).binaryValue)); t.move(20) }, 2500) }, x: 400, y: 300, rate: 0);</p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi * (~count / 4.1) + (((~count % 10) &gt; 1).binaryValue)); t.move(50 / (~count % 30 + 1) + 7) }, 5500) }, x: 520, y: 160, rate: 0.01);</p>
<p class="p6"><br></p>
<p class="p1">// draw the whole picture at once (no animation). Done by setting the rate to 0</p>
<p class="p1">// This also shows how fast the program can calculate and draw 5500 lines</p>
<p class="p8">(</p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi * (~count / 4.1) + (((~count % 10) &gt; 1).binaryValue));</p>
<p class="p8"><span class="Apple-tab-span">	</span>t.move(47 / (~count % 30 + 1) + 7) }, 5500) },<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 540, y: 160, rate: 0);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi * ((~count % 50) / 20.01)); t.move(30) }, 500) }, x: 400, y: 400, rate: 0);</p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi * ((~count % (50 + [0, 40].wchoose([0.99, 0.1]))) / 20.01)); t.move(30) }, 1000 + 5000.rand) }, x: 400, y: 400, rate: 0);</p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi * ((~count % 50) / 20.01)); t.move((100 / (~count % 50 + 1))) }, 3000) }, x: 400, y: 400, rate: 0);</p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |<span class="s1"> </span>Pfuncn<span class="s1">({<span class="Apple-converted-space"> </span></span></p>
<p class="p8"><span class="Apple-tab-span">	</span>t.turn(pi * ((~count % 50) / 20.01) + (0.03 * (~count % 127 &gt; 0).binaryValue));<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span>t.move((100 / (~count % 50 + 1))) }, 2000) }, x: 400, y: 400, rate: 0);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p1">// 2. Basic shapes</p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.autoscale = <span class="s2">false</span>;</p>
<p class="p1">// Square</p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.autoscale = <span class="s2">false</span>;</p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(200) }, 4) }, x: 400, y: 400);</p>
<p class="p6"><br></p>
<p class="p1">// Square with curved sides</p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(200, 3, (t.x@t.y)+(20@20)) }, 4) }, x: 400, y: 400);</p>
<p class="p6"><br></p>
<p class="p1">// hexagon</p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(200) }, 6) }, x: 400, y: 100);</p>
<p class="p6"><br></p>
<p class="p1">// 3. Combining shapes sequentially with Pseq</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pseq</span>([<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(200) }, 4),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(200) }, 6)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span>], 1)</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 400);</p>
<p class="p8">)<span class="Apple-tab-span">	</span></p>
<p class="p6"><br></p>
<p class="p1">// Displace the hexagon<span class="Apple-converted-space"> </span></p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pseq</span>([<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(200) }, 4),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.move(100) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(200) }, 6)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span>], 1)</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 200);</p>
<p class="p8">)<span class="Apple-tab-span">	</span></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p1">// Displace and turn the hexagon<span class="Apple-converted-space"> </span></p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pseq</span>([<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(200) }, 4),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.3); t.move(100) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(200) }, 6)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span>])</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 200);</p>
<p class="p8">)<span class="Apple-tab-span">	</span></p>
<p class="p6"><br></p>
<p class="p1">// repeat the above 3 times</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pseq</span>([<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(200) }, 4),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.3); t.move(100) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(200) }, 6)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span>], 3)</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 200);</p>
<p class="p8">)<span class="Apple-tab-span">	</span></p>
<p class="p6"><br></p>
<p class="p1">// add more displacement</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pseq</span>([<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(200) }, 4),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.3); t.move(100); t.turn(pi/2); t.move(50) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(200) }, 6)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span>], 3)</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 300);</p>
<p class="p8">)<span class="Apple-tab-span">	</span></p>
<p class="p6"><br></p>
<p class="p1">// add even more displacement and lift the pen between completed squares / hexagons</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pseq</span>([<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(200) }, 4),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.3); t.move(100); t.turn(pi/2); t.move(50, 0) }), <span class="s3">// move without drawing</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(200) }, 6),<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.3); t.move(100); t.turn(pi/2); t.move(50, 0) }), <span class="s3">// move without drawing</span></p>
<p class="p8"><span class="Apple-tab-span">	</span>], 5)</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 300);</p>
<p class="p8">)<span class="Apple-tab-span">	</span></p>
<p class="p6"><br></p>
<p class="p1">// use variables to store state and change it cumulatively<span class="Apple-converted-space"> </span></p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">var</span> width = 200;</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span>Pseq<span class="s1">([</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// enclose the rectangle shape in a bracket that performs the width changing function when the rectangle completes</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbracket</span>({}, <span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(width) }, 4), { width = width * 0.95} ),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.05); t.move(100); t.turn(pi/2); t.move(50, 0) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(width) }, 6),<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.05); t.move(100); t.turn(pi/2); t.move(50, 0) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span>], 40)</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 370, rate: 0.01);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p1">// Use variables to combine shapes and moves in a sequence:<span class="Apple-converted-space"> </span></p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.autoscale = <span class="s2">true</span>;</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">var</span> square, hexagon, displace, turn;</p>
<p class="p8"><span class="Apple-tab-span">	</span>square =<span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(50) }, 4);</p>
<p class="p8"><span class="Apple-tab-span">	</span>hexagon = <span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(50) }, 6);</p>
<p class="p8"><span class="Apple-tab-span">	</span>displace = <span class="s2">Pfuncn</span>({ t.move(70) });</p>
<p class="p8"><span class="Apple-tab-span">	</span>turn = <span class="s2">Pfuncn</span>({ t.turn(0.7); t.move(0) });</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pseq</span>([square, turn, square, hexagon, displace, turn, hexagon, displace, square, displace, turn, square], 3);</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 400);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p1">// The above, with nesting and parametrization:<span class="Apple-converted-space"> </span></p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">var</span> square, hexagon, displace, turn;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">var</span> width = 50;</p>
<p class="p8"><span class="Apple-tab-span">	</span>square =<span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(width) }, 4);</p>
<p class="p8"><span class="Apple-tab-span">	</span>hexagon = <span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(width) }, 6);</p>
<p class="p8"><span class="Apple-tab-span">	</span>displace = <span class="s2">Pfuncn</span>({ t.move(width * 7 / 5) });</p>
<p class="p8"><span class="Apple-tab-span">	</span>turn = <span class="s2">Pfuncn</span>({ t.turn(0.7); t.move(0) });</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pseq</span>([square, turn,<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbracket</span>({ width = 5 + 10.rand }, <span class="s2">Prand</span>([square, hexagon, displace], 20), { width = 50 }),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>turn, hexagon, displace, square, displace, turn, square], 3);</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 400);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p1">// Add random choice whether to draw or not to draw each line</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">var</span> width = 200;</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span>Pseq<span class="s1">([</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbracket</span>({}, <span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(width, 0.7.coin.binaryValue) }, 4), { width = width * 0.95} ),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.05); t.move(100); t.turn(pi/2); t.move(50, 0) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(width, 0.7.coin.binaryValue) }, 6),<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.05); t.move(100); t.turn(pi/2); t.move(50, 0) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span>], 40)</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 370);</p>
<p class="p8">)<span class="Apple-tab-span">	</span></p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p1">// draw every 3 of 5 sides in the square series, and every 5 of 7 sides in the hexagon series</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">var</span> width = 200;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">var</span> sq_sides = <span class="s2">Pseq</span>([1, 1, 1, 1, 0], <span class="s2">inf</span>).asStream;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">var</span> hex_sides = <span class="s2">Pseq</span>([1, 1, 1, 1, 1, 1, 0], <span class="s2">inf</span>).asStream;</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span>Pseq<span class="s1">([</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbracket</span>({}, <span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(width, sq_sides.next) }, 4), { width = width * 0.95} ),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.05); t.move(100); t.turn(pi/2); t.move(50, 0) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(width, hex_sides.next) }, 6),<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.05); t.move(100); t.turn(pi/2); t.move(50, 0) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span>], 40)</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 370);</p>
<p class="p8">)<span class="Apple-tab-span">	</span></p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p1">// draw every other side</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">var</span> width = 200;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">var</span> sides = <span class="s2">Pseq</span>([1, 0], <span class="s2">inf</span>).asStream;</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span>Pseq<span class="s1">([</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbracket</span>({}, <span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(width, sides.next) }, 4), { width = width * 0.95} ),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.05); t.move(100); t.turn(pi/2); t.move(50, 0) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(width, sides.next) }, 6),<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.05); t.move(100); t.turn(pi/2); t.move(50, 0) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span>], 40)</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 370);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p1">// random choice of patterns</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">var</span> width = 100;</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span>Prand<span class="s1">([</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbracket</span>({}, <span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(width) }, 4), { width = width * 0.95} ),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.05); t.move(50 + 100.rand); t.turn(pi/2); t.move(50, 0) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(width) }, 6),<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.05); t.move(100); t.turn(pi/2); t.move(100 + 50.rand, 0) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span>], 40)</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 370);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p1">// Weighted random choice of patterns</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">var</span> width = 100;</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span>Pwrand<span class="s1">([</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbracket</span>({}, <span class="s2">Pfuncn</span>({ t.turn(pi / 2); t.move(width) }, 4), { width = width * 0.95} ),<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.05); t.move(50 + 100.rand); t.turn(pi/2); t.move(50, 0) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi / 3); t.move(width) }, 6),<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.05); t.move(100); t.turn(pi/2); t.move(100 + 50.rand, 0) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span>], [1, 3, 10, 2].normalizeSum, 40)</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 370, rate: 0);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p1">// random choice of angles and lengths</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>Pfuncn<span class="s1">({</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t.turn(4pi / [1, 2, 4, 8].choose);</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t.move([50, 25, 15, 10, 5].choose * [1, -1].choose);</p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t.wrap(</span><span class="s2">Rect</span><span class="s1">(0, 0, 800, 800)); </span>// preventing that the point moves off the view</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}, 5000);</p>
<p class="p8"><span class="Apple-tab-span">	</span>},</p>
<p class="p8"><span class="Apple-tab-span">	</span>x: 400, y: 400, rate: 0);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p1">// ------------------------- using jumpTo to move to absolute coordinates</p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.jumpTo(((10, 150 .. 790).choose)@((10, 100 .. 790).choose)) }, 5000) }, x: 400, y: 400, rate: 0.01);</p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.jumpTo((sin(~count / 100)@cos(~count / 100) * 200 + 250)) }, 5000) }, x: 400, y: 400, rate: 0.01);</p>
<p class="p6"><br></p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> <span class="s2">Pfuncn</span>({ t.jumpTo((sin(~count / 50.1)@cos(~count / 100) * 200 + 250)) }, 100000) }, x: 400, y: 400, rate: 0);</p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |<span class="s1"> </span>Pfuncn<span class="s1">({</span></p>
<p class="p8"><span class="Apple-tab-span">	</span>t.jumpTo((sin(~count / 70.1)@cos(~count / 100) * 200 + 250));</p>
<p class="p8"><span class="Apple-tab-span">	</span>t.move(5.rand);</p>
<p class="p8">}, 50000) }, x: 400, y: 400, rate: 0);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p1">// Textures ...</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |<span class="s1"> </span>Pfuncn<span class="s1">({</span></p>
<p class="p8"><span class="Apple-tab-span">	</span>t.jumpTo((sin(~count / 72.1)@cos(~count / 93) * 200 + 300));</p>
<p class="p8"><span class="Apple-tab-span">	</span>t.turn(pi / 3);</p>
<p class="p8"><span class="Apple-tab-span">	</span>t.move(t.x % 200 / 50);</p>
<p class="p8">}, 50000) }, x: 400, y: 400, rate: 0);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |<span class="s1"> </span>Pfuncn<span class="s1">({</span></p>
<p class="p8"><span class="Apple-tab-span">	</span>t.jumpTo((sin(~count / 7.21)@cos(~count / 9.3) * 200 + 300));</p>
<p class="p8"><span class="Apple-tab-span">	</span>t.turn(0.1);</p>
<p class="p8"><span class="Apple-tab-span">	</span>t.move(~count / 100);</p>
<p class="p8">}, 10000) }, x: 400, y: 400, rate: 0);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |<span class="s1"> </span>Pfuncn<span class="s1">({</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t.jumpTo((sin(~count / 7.21)@cos(~count / 9.3) * 200 + 300));</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t.turn(0.1);</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t.move(~count % 200 / 10);</p>
<p class="p8"><span class="Apple-tab-span">	</span>}, 10000) }, x: 400, y: 400, rate: 0);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |<span class="s1"> </span>Pfuncn<span class="s1">({</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t.jumpTo((sin(~count * 7)@cos(~count * 9) * 200 + 300));</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t.turn(pi / 3);</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t.move(t.x % 200 / 50);</p>
<p class="p8"><span class="Apple-tab-span">	</span>}, 1000) }, x: 400, y: 400, rate: 0);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |<span class="s1"> </span>Pfuncn<span class="s1">({</span></p>
<p class="p8"><span class="Apple-tab-span">	</span>t.jumpTo((sin(~count * 1.11)@cos(~count * 1.1) * 200 + 300));</p>
<p class="p8"><span class="Apple-tab-span">	</span>t.turn(pi / 3);</p>
<p class="p8"><span class="Apple-tab-span">	</span>t.move(t.x % 200 / 50);</p>
<p class="p8"><span class="Apple-tab-span">	</span>}, 1000) }, x: 400, y: 400, rate: 0);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p1">// 3. Customizing the Pen and calling other Pen methods</p>
<p class="p6"><br></p>
<p class="p1">// Customizing the setup for the drawing</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p8"><span class="Apple-tab-span">	</span>t.setupFunc = {</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pen</span>.strokeColor = <span class="s2">Color</span>.red;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pen</span>.width = 5;</p>
<p class="p8"><span class="Apple-tab-span">	</span>};</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi * (~count / 4)); t.move(70) }, 25) },<span class="Apple-converted-space"> </span></p>
<p class="p8">x: 200, y: 200)</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p1">// =======================================================================</p>
<p class="p1">// Following do not work yet<span class="Apple-converted-space"> </span></p>
<p class="p1">// Pen modification inside the stream</p>
<p class="p1">// Does not work yet!!!</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |<span class="s1"> </span>Pseq<span class="s1">([</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi * (~count / 4)); t.move(70) }, 7),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.eval({ <span class="s2">Pen</span>.use {</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pen</span>.strokeColor = [<span class="s2">Color</span>.red, <span class="s2">Color</span>.blue].choose;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pen</span>.addArc(100@100, 10, 0, 2pi);</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pen</span>.fill; <span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}}) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.1); t.move(20) })</p>
<p class="p8"><span class="Apple-tab-span">	</span>], 5)</p>
<p class="p8">}, x: 200, y: 200);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p1">// Does not work yet!!!</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |<span class="s1"> </span>Pseq<span class="s1">([</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(pi * (~count / 4)); t.move(70) }, 7),</p>
<p class="p1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Pfuncn({ t.eval({ Pen.fillOval(Rect(100, 100, 50, 30)) }) }),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(0.1); t.move(20, 4, <span class="s2">Rect</span>(100, 100, 30, 50)) })</p>
<p class="p8"><span class="Apple-tab-span">	</span>], 5)</p>
<p class="p8">}, x: 200, y: 200);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p1">/*<span class="Apple-converted-space">  </span>=======================================================================</p>
<p class="p10"><br></p>
<p class="p1"><span class="Apple-converted-space"> </span>Older stuff, used to develop the Turtle class</p>
<p class="p10"><br></p>
<p class="p1">*/</p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p8">w = <span class="s2">Window</span>(<span class="s4">"Turtle"</span>, <span class="s2">Rect</span>(10, 10, 400, 400).fromTop.fromRight).front;</p>
<p class="p8">v = <span class="s2">UserView</span>(w, w.view.bounds);</p>
<p class="p8">v.background = <span class="s2">Color</span>.white;</p>
<p class="p8">o = 200@200;</p>
<p class="p8">t = <span class="s2">Turtle</span>(o.x, o.y);</p>
<p class="p8">p = { t.turn(pi/2); t.move(100) } ! 4;</p>
<p class="p6"><br></p>
<p class="p8">w.drawHook = {</p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span></span>// set the Color</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pen</span>.strokeColor = <span class="s2">Color</span>.black;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pen</span>.width = 1;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pen</span> moveTo: o;</p>
<p class="p8"><span class="Apple-tab-span">	</span>p do: <span class="s2">Pen</span>.lineTo(<span class="s2">_</span>);</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pen</span>.stroke;</p>
<p class="p8">};</p>
<p class="p8">w.refresh;</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p8">t = <span class="s2">Turtle</span>(200, 200);</p>
<p class="p8">o = t.xy;</p>
<p class="p8">p = { t.turn(pi/2); t.move(100) } ! 4;</p>
<p class="p8">p = <span class="s2">Pseq</span>(p, 1).asStream;</p>
<p class="p8">a = [];</p>
<p class="p8">r = <span class="s2">true</span>;</p>
<p class="p6"><br></p>
<p class="p8">w = <span class="s2">Window</span>(<span class="s4">"Turtle"</span>, <span class="s2">Rect</span>(10, 10, 400, 400).fromTop.fromRight).front;</p>
<p class="p8">w.onClose = { r = <span class="s2">false</span> };</p>
<p class="p8">v = <span class="s2">UserView</span>(w, w.view.bounds);</p>
<p class="p8">v.background = <span class="s2">Color</span>.white;</p>
<p class="p6"><br></p>
<p class="p8">w.drawHook = {</p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span></span>// set the Color</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pen</span>.strokeColor = <span class="s2">Color</span>.black;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pen</span>.width = 1;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pen</span> moveTo: o;</p>
<p class="p8"><span class="Apple-tab-span">	</span>a do: <span class="s2">Pen</span>.lineTo(<span class="s2">_</span>);</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="s2">Pen</span>.stroke;</p>
<p class="p8">};</p>
<p class="p6"><br></p>
<p class="p8">{</p>
<p class="p8"><span class="Apple-tab-span">	</span>while {</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>r and: { (n = p.next).notNil }</p>
<p class="p8"><span class="Apple-tab-span">	</span>}{</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = a add: n;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w.refresh;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0.5.wait;</p>
<p class="p8"><span class="Apple-tab-span">	</span>}</p>
<p class="p8">}.fork(<span class="s2">AppClock</span>);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p1">//<span class="Apple-converted-space">  </span>=======================================================================</p>
<p class="p6"><br></p>
<p class="p8">w = <span class="s2">Turtle</span>.makeWindow;</p>
<p class="p8">(t = <span class="s2">Turtle</span>(200, 200)).draw({ t.turn(pi/2); t.move(100) } ! 4, window: w, rate: 1);</p>
<p class="p8">(t = <span class="s2">Turtle</span>(200, 200)).draw({ t.turn(pi/3); t.move(100) } ! 10, w);</p>
<p class="p8">(t = <span class="s2">Turtle</span>(200, 200)).draw({ t.turn(pi/5); t.move(50) } ! 10, w);</p>
<p class="p6"><br></p>
<p class="p8">t.draw({ t.move(100); t.turn(pi/1.3); t.xy } ! 20, rate: 1);</p>
<p class="p6"><br></p>
<p class="p1">// -------------------------</p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> { t.turn(pi/3); t.move(100) } ! 10 }, w, x: 200, y: 200);</p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> { t.turn(0.99); t.move(100) } ! 20 }, w, x: 200, y: 200);</p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> { t.turn(5.0); t.move(100) } ! 20 }, w, x: 200, y: 200);</p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> { t.turn(pi * 3.1); t.move(100) } ! 20 }, w, x: 200, y: 200);</p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> { t.turn(pi * 1.1); t.move(100) } ! 20 }, w, x: 200, y: 200);</p>
<p class="p8"><span class="s2">Turtle</span>.draw({ <span class="s2">| t |</span> { t.turn(pi * 1.12); t.move(100) } ! 20 }, w, x: 200, y: 200);</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |<span class="s1"> { </span>| i |</p>
<p class="p8"><span class="Apple-tab-span">	</span>t.turn(pi * 1.12 + (i / 10)); t.move(70) } ! 20</p>
<p class="p8">}, w, x: 200, y: 200);</p>
<p class="p8">)</p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |<span class="s1"> { </span>| i |</p>
<p class="p8"><span class="Apple-tab-span">	</span>t.turn(pi * 1.12 + (i / 10)); t.move(70) } ! 20</p>
<p class="p8">}, w, x: 200, y: 200);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span>Pseq<span class="s1">([</span></p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>Pfuncn<span class="s1">({</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t.turn(pi * 1.1); t.move(70)<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}, 20),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(1.0.rand); t.move(70 + 20.rand) }, 1),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(3); t.move(50) }, 20),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({<span class="Apple-converted-space">  </span>t.turn(1.0.rand); t.move(50 + 50.rand) }, 1),</p>
<p class="p8"><span class="Apple-tab-span">	</span>], 3)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8">}, x: 200, y: 200);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p1">// here we move the turtle without drawing a line, by using move(..., 0);</p>
<p class="p9">Turtle<span class="s1">.draw({ </span>| t |</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span>Pseq<span class="s1">([</span></p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>Pfuncn<span class="s1">({</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t.turn(pi * 1.1); t.move(70)<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}, 20),<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(1.0.rand); t.move(70 + 20.rand, 0) }, 1), <span class="s3">// move without a line</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({ t.turn(3); t.move(50) }, 20),</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pfuncn</span>({<span class="Apple-converted-space">  </span>t.turn(1.0.rand); t.move(50 + 50.rand, 0) }, 1) <span class="s3">// move without a line</span></p>
<p class="p8"><span class="Apple-tab-span">	</span>], 3)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8">}, x: 200, y: 200);</p>
<p class="p8">)</p>
<p class="p6"><br></p>
</body>
</html>
